@model QLTX.Models.Rental

@{
    ViewData["Title"] = "Chi tiết đơn thuê";
    Layout = "~/Views/Shared/_Layout.cshtml";
    int index = 1;
}

<main>
    <div class="container-fluid px-4">
        <h2 class="mt-4">Chi tiết đơn thuê</h2>
        <hr />
        <dl class="row">
            <dt class="col-sm-2">
                Khách hàng
            </dt>
            <dd class="col-sm-10">
                @Model.Customer.Name - @Model.Customer.IdDocument
            </dd>
            <dt class="col-sm-2">
                Ngày thuê
            </dt>
            <dd class="col-sm-10">
                @Model.DateRetalFrom.ToString("dd/MM/yyyy HH:mm")
            </dd>
            <dt class="col-sm-2">
                Ngày trả
            </dt>
            <dd class="col-sm-10">
                @Model.DateRetalTo.ToString("dd/MM/yyyy HH:mm")
            </dd>
            <dt class="col-sm-2">
                Thời gian thuê (giờ)
            </dt>
            <dd class="col-sm-10">
                @Model.RetalTime
            </dd>
            <dt class="col-sm-2">
                Dịch vụ
            </dt>
            <dd class="col-sm-10">
                @Model.Service
            </dd>
            <dt class="col-sm-2">
                Tổng tiền
            </dt>
            <dd class="col-sm-10">
                @Model.Price
            </dd>
            <dt class="col-sm-2">
                Ghi chú
            </dt>
            <dd class="col-sm-10">
                @Model.Note
            </dd>
            <dt class="col-sm-2">
                Tạo bởi
            </dt>
            <dd class="col-sm-10">
                @Model.CreatedBy - @Model.CreationTime.ToString("dd/MM/yyyy HH:mm")
            </dd>
            @if (!string.IsNullOrEmpty(Model.UpdatedBy))
            {
                <dt class="col-sm-2">
                    Cập nhật lần cuối bởi
                </dt>
                <dd class="col-sm-10">
                    @Model.UpdatedBy - @Model.UpdationTime?.ToString("dd/MM/yyyy HH:mm")
                </dd>
            }
        </dl>

        <h3 class="mt-4">Danh sách xe thuê</h3>
        <div class="card mb-4">
            <div class="card-body">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>STT</th>
                            <th>Biển số xe</th>
                            <th>VIN</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var detail in Model.RentlDetails)
                        {  
                            <tr>
                                <td>@index</td>
                                <td>@(detail.EMotorbike.License)</td>
                                <td>@(detail.EMotorbike.VinNumber)</td>
                            </tr>
                            index++;
                        }
                    </tbody>
                </table>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-2">
                <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-primary">Cập nhật</a>
            </div>
            <div class="col-sm-10">
                <a asp-action="Index" class="btn btn-secondary">Đóng</a>
            </div>
        </div>
    </div>
</main>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
